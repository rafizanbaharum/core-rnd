
DROP TABLE RND_DOCUMENT;
DROP TABLE RND_INSTRUCTOR;
DROP TABLE RND_STUDENT;
DROP TABLE RND_ACTOR;
DROP TABLE RND_GROUP_MEMBER;
DROP TABLE RND_GROUP;
DROP TABLE RND_USER;
DROP TABLE RND_PRINCIPAL_ROLE;
DROP TABLE RND_PRINCIPAL;

-- =============================================================================================
-- RND_PRINCIPAL, RND_PRINCIPAL_ROLE
-- =============================================================================================

CREATE
    TABLE RND_PRINCIPAL
    (
        ID BIGINT NOT NULL,
        NAME VARCHAR(255),
        PRINCIPAL_TYPE SMALLINT NOT NULL,
        LOCKED BOOLEAN NOT NULL,
        -- STANDARD METADATA COLUMN
        M_ST SMALLINT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
    );
ALTER TABLE RND_PRINCIPAL ADD CONSTRAINT PK_RND_PRINCIPAL PRIMARY KEY(ID);

CREATE SEQUENCE SEQ_RND_PRINCIPAL START WITH 1 INCREMENT BY 1 NO MAXVALUE CACHE 1;



CREATE
    TABLE RND_PRINCIPAL_ROLE
    (
        ID BIGINT NOT NULL,
        PRINCIPAL_ID BIGINT NOT NULL,
        ROLE_TYPE SMALLINT NOT NULL,
        -- STANDARD METADATA COLUMN
        M_ST    SMALLINT DEFAULT 0,
        C_ID    BIGINT DEFAULT 0,
        C_TS    TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID    BIGINT,
        M_TS    TIMESTAMP,
        D_ID    BIGINT,
        D_TS    TIMESTAMP
    );
ALTER TABLE RND_PRINCIPAL_ROLE ADD CONSTRAINT PK_RND_PRINCIPAL_ROLE PRIMARY KEY(ID);

ALTER TABLE RND_PRINCIPAL_ROLE ADD CONSTRAINT FK_RND_PCPL_1 FOREIGN KEY (PRINCIPAL_ID) REFERENCES RND_PRINCIPAL (ID);

CREATE SEQUENCE SEQ_RND_PRINCIPAL_ROLE START WITH 1 INCREMENT BY 1 NO MAXVALUE CACHE 1;

-- =============================================================================================
-- RND_USER, RND_GROUP, RND_GROUP_MEMBER
-- =============================================================================================

CREATE
    TABLE RND_USER
    (
        ID  BIGINT NOT NULL,
        REALNAME VARCHAR(100) NOT NULL,
        EMAIL VARCHAR(100) NOT NULL,
        PASSWORD VARCHAR(200) NOT NULL,
        ACTOR_ID BIGINT
    );
ALTER TABLE RND_USER ADD CONSTRAINT PK_RND_USER PRIMARY KEY(ID);

ALTER TABLE RND_USER ADD CONSTRAINT FK_RND_USER_1 FOREIGN KEY (ID) REFERENCES RND_PRINCIPAL (ID);


CREATE
    TABLE RND_GROUP
    (
        ID BIGINT NOT NULL
    );

ALTER TABLE RND_GROUP ADD CONSTRAINT PK_RND_GROUP PRIMARY KEY(ID);

ALTER TABLE RND_GROUP ADD CONSTRAINT FK_RND_GROUP_1 FOREIGN KEY (ID) REFERENCES RND_PRINCIPAL (ID);


CREATE
  TABLE RND_GROUP_MEMBER
  (
      ID  BIGINT NOT NULL,
      GROUP_ID  BIGINT NOT NULL,
      MEMBER_ID  BIGINT NOT NULL,
      -- STANDARD METADATA COLUMN
      M_ST    SMALLINT DEFAULT 0,
      C_ID    BIGINT DEFAULT 0,
      C_TS    TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
      M_ID    BIGINT,
      M_TS    TIMESTAMP,
      D_ID    BIGINT,
      D_TS    TIMESTAMP
  );

ALTER TABLE RND_GROUP_MEMBER ADD CONSTRAINT PK_RND_GROUP_MEMBER PRIMARY KEY(ID);

ALTER TABLE RND_GROUP_MEMBER ADD CONSTRAINT FK_RND_GROUP_MEMBER_1 FOREIGN KEY (GROUP_ID) REFERENCES RND_GROUP (ID);

ALTER TABLE RND_GROUP_MEMBER ADD CONSTRAINT FK_RND_GROUP_MEMBER_2 FOREIGN KEY (MEMBER_ID) REFERENCES RND_PRINCIPAL (ID);

CREATE SEQUENCE SEQ_RND_GROUP_MEMBER START WITH 1 INCREMENT BY 1 NO MAXVALUE CACHE 1;


-- =============================================================================================
-- RND_ACTOR, RND_STUDENT, RND_INSTRUCTOR
-- =============================================================================================

CREATE
  TABLE RND_ACTOR
    (
      ID  BIGINT NOT NULL,
      ACTOR_TYPE SMALLINT NOT NULL,
      IDENTITY_NO VARCHAR(100) NOT NULL,
      NRIC_NO VARCHAR(100) NOT NULL,
      NAME VARCHAR(100) NOT NULL,
      ADDRESS1 VARCHAR(100) NOT NULL,
      ADDRESS2 VARCHAR(100) NOT NULL,
      ADDRESS3 VARCHAR(100) NOT NULL,
      EMAIL VARCHAR(100) NOT NULL,
      PHONE VARCHAR(100) NOT NULL,
      FAX VARCHAR(100) NOT NULL,
      -- STANDARD METADATA COLUMN
      M_ST    SMALLINT DEFAULT 0,
      C_ID    BIGINT DEFAULT 0,
      C_TS    TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
      M_ID    BIGINT,
      M_TS    TIMESTAMP,
      D_ID    BIGINT,
      D_TS    TIMESTAMP
    );
ALTER TABLE RND_ACTOR ADD CONSTRAINT PK_RND_ACTOR PRIMARY KEY(ID);

CREATE SEQUENCE SEQ_RND_ACTOR START WITH 1 INCREMENT BY 1 NO MAXVALUE CACHE 1;

CREATE
    TABLE RND_INSTRUCTOR
    (
        ID  BIGINT
    );
ALTER TABLE RND_INSTRUCTOR ADD CONSTRAINT PK_RND_INSTRUCTOR PRIMARY KEY(ID);

ALTER TABLE RND_INSTRUCTOR ADD CONSTRAINT FK_RND_INSTRUCTOR_1 FOREIGN KEY (ID) REFERENCES RND_ACTOR (ID);

CREATE
    TABLE RND_STUDENT
    (
        ID  BIGINT
    );
ALTER TABLE RND_STUDENT ADD CONSTRAINT PK_RND_STUDENT PRIMARY KEY(ID);

ALTER TABLE RND_STUDENT ADD CONSTRAINT FK_RND_STUDENT_1 FOREIGN KEY (ID) REFERENCES RND_ACTOR (ID);


-- =============================================================================================
-- RND_MODULE, RND_SUB_MODULE
-- =============================================================================================
CREATE
    TABLE RND_MODULE
    (
        ID  BIGINT,
        LOAD_ORDER SMALLINT NOT NULL,
        CODE VARCHAR(10) NOT NULL,
        DESCRIPTION VARCHAR(255) NOT NULL,
        -- STANDARD METADATA COLUMN
        M_ST    SMALLINT DEFAULT 0,
        C_ID    BIGINT DEFAULT 0,
        C_TS    TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID    BIGINT,
        M_TS    TIMESTAMP,
        D_ID    BIGINT,
        D_TS    TIMESTAMP,
        PRIMARY KEY USING BTREE (ID)
    );

ALTER TABLE RND_MODULE ADD CONSTRAINT PK_RND_MODULE PRIMARY KEY(ID);

ALTER TABLE RND_MODULE MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

CREATE
    TABLE RND_SUB_MODULE
    (
        ID  BIGINT,
        MODULE_ID  BIGINT NOT NULL,
        LOAD_ORDER SMALLINT NOT NULL,
        CODE VARCHAR(10) NOT NULL,
        DESCRIPTION VARCHAR(255) NOT NULL,
        -- STANDARD METADATA COLUMN
        M_ST    SMALLINT DEFAULT 0,
        C_ID    BIGINT DEFAULT 0,
        C_TS    TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID    BIGINT,
        M_TS    TIMESTAMP,
        D_ID    BIGINT,
        D_TS    TIMESTAMP,
        PRIMARY KEY USING BTREE (ID)
    );
ALTER TABLE RND_SUB_MODULE ADD CONSTRAINT PK_RND_SUB_MODULE PRIMARY KEY(ID);

ALTER TABLE RND_SUB_MODULE MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_SUB_MODULE ADD CONSTRAINT FK_RND_SUB_MODULE_1 FOREIGN KEY (MODULE_ ID) REFERENCES RND_MODULE (ID);


-- =============================================================================================
-- RND_DOCUMENT
-- =============================================================================================

CREATE
    TABLE RND_DOCUMENT
    (
        ID  BIGINT,
        DOCUMENT_TYPE SMALLINT NOT NULL,
        REFERENCE_NO VARCHAR(100) NOT NULL,
        SOURCE_NO VARCHAR(100) NOT NULL,
        -- STANDARD METADATA COLUMN
        M_ST    SMALLINT DEFAULT 0,
        C_ID    BIGINT DEFAULT 0,
        C_TS    TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID    BIGINT,
        M_TS    TIMESTAMP,
        D_ID    BIGINT,
        D_TS    TIMESTAMP,
        -- STANDARD FLOWDATA COLUMN
        FD_ST INT(2) DEFAULT 0,
        DT_ID BIGINT,
        RQ_ID BIGINT,
        RG_ID BIGINT,
        PR_ID BIGINT,
        QR_ID BIGINT,
        CK_ID BIGINT,
        VF_ID BIGINT,
        AV_ID BIGINT,
        CL_ID BIGINT,
        UP_ID BIGINT,
        UQ_ID BIGINT,
        UV_ID BIGINT,
        PT_ID BIGINT,
        RM_ID BIGINT,
        EV_ID BIGINT,
        SL_ID BIGINT,
        DT_TS TIMESTAMP,
        RQ_TS TIMESTAMP,
        RG_TS TIMESTAMP,
        PR_TS TIMESTAMP,
        QR_TS TIMESTAMP,
        CK_TS TIMESTAMP,
        VF_TS TIMESTAMP,
        AV_TS TIMESTAMP,
        CL_TS TIMESTAMP,
        UP_TS TIMESTAMP,
        UQ_TS TIMESTAMP,
        UV_TS TIMESTAMP,
        PT_TS TIMESTAMP,
        RM_TS TIMESTAMP,
        EV_TS TIMESTAMP,
        SL_TS TIMESTAMP
    );

ALTER TABLE RND_DOCUMENT ADD CONSTRAINT PK_RND_DOCUMENT PRIMARY KEY(ID);

ALTER TABLE RND_DOCUMENT MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;



DROP TABLE RND_LEDGER;
DROP TABLE RND_LEDGER_TRANSACTION;


-- =============================================================================================
-- RND_LEDGER, RND_LEDGER_TRANSACTION
-- =============================================================================================


















DROP TABLE RND_CONFIGURATION;
DROP TABLE RND_REFERENCE_NO;
DROP TABLE RND_COST_CENTER;
DROP TABLE RND_SUB_PROJECT_CODE;
DROP TABLE RND_PROJECT_CODE;
DROP TABLE RND_DEPARTMENT_CODE;
DROP TABLE RND_CAMPUS_CODE;
DROP TABLE RND_FUND_CODE;
DROP TABLE RND_PERIOD;
DROP TABLE RND_CURRENCY_CODE;
DROP TABLE RND_COUNTRY_CODE;
DROP TABLE RND_STATE_CODE;
DROP TABLE RND_CITY_CODE;
DROP TABLE RND_DISTRICT_CODE;
DROP TABLE RND_BANK_CODE;
DROP TABLE RND_ITEM_CODE;
DROP TABLE RND_SODO_CODE;
DROP TABLE RND_ACCOUNT_CODE;
DROP TABLE RND_POSITION_CODE;
DROP TABLE RND_PERSON;
DROP TABLE RND_VENDOR;
DROP TABLE RND_STAFF;
DROP TABLE RND_CONSUMER;

-- =============================================================================================
-- RND_CONFIGURATION
-- =============================================================================================

CREATE
    TABLE RND_CONFIGURATION
    (
        ID BIGINT NOT NULL,
        CONFIG_KEY VARCHAR(255) NOT NULL,
        CONFIG_VALUE VARCHAR(255),
        DESCRIPTION VARCHAR(255),
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP ,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
    );

ALTER TABLE RND_CONFIGURATION ADD CONSTRAINT PK_RND_CONFIGURATION PRIMARY KEY(ID);

ALTER TABLE RND_CONFIGURATION MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_CONFIGURATION ADD CONSTRAINT UNQ_RND_CONFIGURATION UNIQUE (CONFIG_KEY);




-- =============================================================================================
-- RND_REFERENCE_NO
-- =============================================================================================

CREATE
  TABLE RND_REFERENCE_NO
  (
        ID BIGINT NOT NULL,
        CODE VARCHAR(100) NOT NULL,
        DESCRIPTION VARCHAR(255) NOT NULL,
        PREFIX VARCHAR(50),
        REFERENCE_FORMAT VARCHAR(50),
        SEQUENCE_FORMAT VARCHAR(50),
        CURRENT_VALUE INT,
        INCREMENT_VALUE INT,
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
  );

ALTER TABLE RND_REFERENCE_NO ADD CONSTRAINT PK_RND_REFERENCE_NO PRIMARY KEY(ID);

ALTER TABLE RND_REFERENCE_NO MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_REFERENCE_NO ADD CONSTRAINT UNQ_RND_CONFIGURATION UNIQUE (CODE);

-- =============================================================================================
-- RND_FUND_CODE
-- =============================================================================================

CREATE
    TABLE RND_FUND_CODE
    (
        ID BIGINT NOT NULL,
        CODE VARCHAR(10) NOT NULL,
        DESCRIPTION VARCHAR(255),
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
    );

ALTER TABLE RND_FUND_CODE ADD CONSTRAINT PK_RND_FUND_CODE PRIMARY KEY(ID);

ALTER TABLE RND_FUND_CODE MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_FUND_CODE ADD CONSTRAINT UNQ_RND_FUND_CODE UNIQUE (CODE);

-- =============================================================================================
-- RND_CAMPUS_CODE
-- =============================================================================================

CREATE
    TABLE RND_CAMPUS_CODE
    (
        ID BIGINT NOT NULL,
        CODE VARCHAR(1) NOT NULL,
        DESCRIPTION VARCHAR(255),
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
    );

ALTER TABLE RND_CAMPUS_CODE ADD CONSTRAINT PK_RND_CAMPUS_CODE PRIMARY KEY(ID);

ALTER TABLE RND_CAMPUS_CODE MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_CAMPUS_CODE ADD CONSTRAINT UNQ_RND_CAMPUS_CODE UNIQUE (CODE);

-- =============================================================================================
-- RND_DEPARTMENT_CODE
-- =============================================================================================

CREATE
    TABLE RND_DEPARTMENT_CODE
    (
        ID BIGINT NOT NULL,
        CAMPUS_ID BIGINT,
        CODE VARCHAR(7) NOT NULL,
        DESCRIPTION VARCHAR(255),
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
    );

ALTER TABLE RND_DEPARTMENT_CODE ADD CONSTRAINT PK_RND_DEPARTMENT_CODE PRIMARY KEY(ID);

ALTER TABLE RND_DEPARTMENT_CODE MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_DEPARTMENT_CODE ADD CONSTRAINT UNQ_RND_DEPARTMENT_CODE UNIQUE (CODE);

ALTER TABLE RND_DEPARTMENT_CODE ADD CONSTRAINT FK_RND_DEPARTMENT_CODE_1 FOREIGN KEY (CAMPUS_ID) REFERENCES RND_CAMPUS_CODE (ID);


-- =============================================================================================
-- RND_PROJECT_CODE
-- =============================================================================================

CREATE
    TABLE RND_PROJECT_CODE
    (
        ID BIGINT NOT NULL,
        CODE VARCHAR(4) NOT NULL,
        DESCRIPTION VARCHAR(255),
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
    );

ALTER TABLE RND_PROJECT_CODE ADD CONSTRAINT PK_RND_PROJECT_CODE PRIMARY KEY(ID);

ALTER TABLE RND_PROJECT_CODE MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_PROJECT_CODE ADD CONSTRAINT UNQ_RND_PROJECT_CODE UNIQUE (CODE);

-- =============================================================================================
-- RND_SUB_PROJECT_CODE
-- =============================================================================================

CREATE
    TABLE RND_SUB_PROJECT_CODE
    (
        ID BIGINT NOT NULL,
        CODE VARCHAR(5) NOT NULL,
        DESCRIPTION VARCHAR(255),
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
    );

ALTER TABLE RND_SUB_PROJECT_CODE ADD CONSTRAINT PK_RND_SUB_PROJECT_CODE PRIMARY KEY(ID);

ALTER TABLE RND_SUB_PROJECT_CODE MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_SUB_PROJECT_CODE ADD CONSTRAINT UNQ_RND_SUB_PROJECT_CODE UNIQUE (CODE);


-- =============================================================================================
-- RND_COST_CENTER
-- =============================================================================================

CREATE
    TABLE RND_COST_CENTER
    (
    	ID BIGINT NOT NULL,
    	FUND_ID BIGINT NOT NULL,
    	DEPARTMENT_ID BIGINT NOT NULL,
    	PROJECT_ID BIGINT NOT NULL,
    	SUB_PROJECT_ID BIGINT NOT NULL,
        CODE VARCHAR(20) NOT NULL,
        DESCRIPTION VARCHAR(300),
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
    );

ALTER TABLE RND_COST_CENTER ADD CONSTRAINT PK_RND_COST_CENTER PRIMARY KEY(ID);

ALTER TABLE RND_COST_CENTER MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_COST_CENTER ADD CONSTRAINT UNQ_RND_COST_CENTER UNIQUE (CODE);

ALTER TABLE RND_COST_CENTER ADD CONSTRAINT FK_RND_COST_CENTER_1 FOREIGN KEY (FUND_ID) REFERENCES RND_FUND_CODE (ID);

ALTER TABLE RND_COST_CENTER ADD CONSTRAINT FK_RND_COST_CENTER_2 FOREIGN KEY (DEPARTMENT_ID) REFERENCES RND_DEPARTMENT_CODE (ID);

ALTER TABLE RND_COST_CENTER ADD CONSTRAINT FK_RND_COST_CENTER_3 FOREIGN KEY (PROJECT_ID) REFERENCES RND_PROJECT_CODE (ID);

ALTER TABLE RND_COST_CENTER ADD CONSTRAINT FK_RND_COST_CENTER_4 FOREIGN KEY (SUB_PROJECT_ID) REFERENCES RND_SUB_PROJECT_CODE (ID);

-- =============================================================================================
-- RND_PERIOD
-- =============================================================================================

CREATE
    TABLE RND_PERIOD
    (
    	ID BIGINT NOT NULL,
    	COST_CENTER_ID BIGINT NOT NULL,
        DESCRIPTION VARCHAR(255) NOT NULL,
        START_DATE DATE,
        END_DATE DATE,
        CURRENT BOOLEAN DEFAULT 0,
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
    );

ALTER TABLE RND_PERIOD ADD CONSTRAINT PK_RND_PERIOD PRIMARY KEY(ID);

ALTER TABLE RND_PERIOD MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_PERIOD ADD CONSTRAINT FK_RND_PERIOD_1 FOREIGN KEY (COST_CENTER_ID) REFERENCES RND_COST_CENTER (ID);

-- =============================================================================================
-- RND_ACCOUNT_CODE
-- =============================================================================================

CREATE
    TABLE RND_ACCOUNT_CODE
    (
        ID BIGINT NOT NULL,
        CODE VARCHAR(1) NOT NULL,
        DESCRIPTION VARCHAR(255),
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
    );

ALTER TABLE RND_ACCOUNT_CODE ADD CONSTRAINT PK_RND_ACCOUNT_CODE PRIMARY KEY(ID);

ALTER TABLE RND_ACCOUNT_CODE MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_ACCOUNT_CODE ADD CONSTRAINT UNQ_RND_ACCOUNT_CODE UNIQUE (CODE);

-- =============================================================================================
-- RND_SODO_CODE
-- =============================================================================================

CREATE
    TABLE RND_SODO_CODE
    (
        ID BIGINT NOT NULL,
        PARENT_ID BIGINT,
        ACCOUNT_ID BIGINT,
        CODE VARCHAR(7) NOT NULL,
        DESCRIPTION VARCHAR(255),
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
    );

ALTER TABLE RND_SODO_CODE ADD CONSTRAINT PK_RND_SODO_CODE PRIMARY KEY(ID);

ALTER TABLE RND_SODO_CODE MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_SODO_CODE ADD CONSTRAINT FK_RND_SODO_CODE_1 FOREIGN KEY (ACCOUNT_ID) REFERENCES RND_ACCOUNT_CODE (ID);

ALTER TABLE RND_SODO_CODE ADD CONSTRAINT FK_RND_SODO_CODE_2 FOREIGN KEY (PARENT_ID) REFERENCES RND_SODO_CODE (ID);

-- =============================================================================================
-- RND_ITEM_CODE
-- =============================================================================================

CREATE
  TABLE RND_ITEM_CODE
  (
        ID BIGINT NOT NULL,
        PARENT_ID BIGINT,
        SODO_ID BIGINT,
        CODE VARCHAR(7) NOT NULL,
        DESCRIPTION VARCHAR(255) NOT NULL,
        ITEM_TYPE INT NOT NULL,
        ITEM_SUB_TYPE INT,
        TAXABLE_AP BOOLEAN NOT NULL,
        TAXABLE_AR BOOLEAN NOT NULL,
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
  );

ALTER TABLE RND_ITEM_CODE ADD CONSTRAINT PK_RND_ITEM_CODE PRIMARY KEY(ID);

ALTER TABLE RND_ITEM_CODE MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_ITEM_CODE ADD CONSTRAINT UNQ_RND_ITEM_CODE UNIQUE (CODE);

ALTER TABLE RND_ITEM_CODE ADD CONSTRAINT FK_RND_ITEM_CODE_1 FOREIGN KEY (PARENT_ID) REFERENCES RND_ITEM_CODE (ID);

ALTER TABLE RND_ITEM_CODE ADD CONSTRAINT FK_RND_ITEM_CODE_2 FOREIGN KEY (SODO_ID) REFERENCES RND_SODO_CODE (ID);

-- =============================================================================================
-- RND_CURRENCY_CODE
-- =============================================================================================

CREATE
    TABLE RND_CURRENCY_CODE
    (
        ID BIGINT NOT NULL,
        CODE VARCHAR(3),
        DESCRIPTION VARCHAR(50),
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
    );

ALTER TABLE RND_CURRENCY_CODE ADD CONSTRAINT PK_RND_CURRENCY_CODE PRIMARY KEY(ID);

ALTER TABLE RND_CURRENCY_CODE MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

-- =============================================================================================
-- RND_COUNTRY_CODE
-- =============================================================================================

CREATE
  TABLE RND_COUNTRY_CODE
  (
        ID BIGINT NOT NULL,
        CODE VARCHAR(3) NOT NULL,
        DESCRIPTION VARCHAR(255) NOT NULL,
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
  );

ALTER TABLE RND_COUNTRY_CODE ADD CONSTRAINT PK_RND_COUNTRY_CODE PRIMARY KEY(ID);

ALTER TABLE RND_COUNTRY_CODE MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_COUNTRY_CODE ADD CONSTRAINT UNQ_RND_COUNTRY_CODE UNIQUE (CODE);

-- =============================================================================================
-- RND_STATE_CODE
-- =============================================================================================

CREATE
  TABLE RND_STATE_CODE
  (
        ID BIGINT NOT NULL,
        CODE VARCHAR(3) NOT NULL,
        DESCRIPTION VARCHAR(255) NOT NULL,
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
  );

ALTER TABLE RND_STATE_CODE ADD CONSTRAINT PK_RND_STATE_CODE PRIMARY KEY(ID);

ALTER TABLE RND_STATE_CODE MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_STATE_CODE ADD CONSTRAINT UNQ_RND_STATE_CODE UNIQUE (CODE);

-- =============================================================================================
-- RND_CITY_CODE
-- =============================================================================================

CREATE
  TABLE RND_CITY_CODE
  (
        ID BIGINT NOT NULL,
        STATE_ID BIGINT NOT NULL,
        CODE VARCHAR(4) NOT NULL,
        DESCRIPTION VARCHAR(255) NOT NULL,
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
  );

ALTER TABLE RND_CITY_CODE ADD CONSTRAINT PK_RND_CITY_CODE PRIMARY KEY(ID);

ALTER TABLE RND_CITY_CODE MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_CITY_CODE ADD CONSTRAINT UNQ_RND_CITY_CODE UNIQUE (CODE);

-- =============================================================================================
-- RND_DISTRICT_CODE
-- =============================================================================================

CREATE
  TABLE RND_DISTRICT_CODE
  (
        ID BIGINT NOT NULL,
        STATE_ID BIGINT NOT NULL,
        CODE VARCHAR(4) NOT NULL,
        DESCRIPTION VARCHAR(255) NOT NULL,
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
  );

ALTER TABLE RND_DISTRICT_CODE ADD CONSTRAINT PK_RND_DISTRICT_CODE PRIMARY KEY(ID);

ALTER TABLE RND_DISTRICT_CODE MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_DISTRICT_CODE ADD CONSTRAINT UNQ_RND_DISTRICT_CODE UNIQUE (CODE);

-- =============================================================================================
-- RND_BANK_CODE
-- =============================================================================================

CREATE
    TABLE RND_BANK_CODE
    (
        ID BIGINT NOT NULL,
        CODE VARCHAR(20),
        DESCRIPTION VARCHAR(50),
        -- ADDRESS
        AI_ADDRESS1 VARCHAR(100),
        AI_ADDRESS2 VARCHAR(100),
        AI_ADDRESS3 VARCHAR(100),
        AI_ADDRESS4 VARCHAR(100),
        AI_POSTCODE VARCHAR(100),
        AI_CITY_ID BIGINT ,
        AI_DISTRICT_ID BIGINT ,
        AI_STATE_ID BIGINT,
        AI_COUNTRY_ID BIGINT ,
        -- CONTACT
        CI_NAME VARCHAR(100),
        CI_EMAIL VARCHAR(100),
        CI_PHONE VARCHAR(100),
        CI_FAX VARCHAR(100),
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
    );

ALTER TABLE RND_BANK_CODE ADD CONSTRAINT PK_RND_BANK_CODE PRIMARY KEY(ID);

ALTER TABLE RND_BANK_CODE MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_BANK_CODE ADD CONSTRAINT UNQ_RND_BANK_CODE UNIQUE (CODE);


-- =============================================================================================
-- RND_POSITION_CODE
-- =============================================================================================

CREATE
  TABLE RND_POSITION_CODE
  (
        ID BIGINT NOT NULL,
        CODE VARCHAR(10),
        DESCRIPTION VARCHAR(100),
        GRADE INT,
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
  );

ALTER TABLE RND_POSITION_CODE ADD CONSTRAINT PK_RND_POSITION_CODE PRIMARY KEY(ID);

ALTER TABLE RND_POSITION_CODE MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_POSITION_CODE ADD CONSTRAINT UNQ_RND_POSITION_CODE UNIQUE (CODE);


-- =============================================================================================
-- RND_CONSUMER
-- =============================================================================================

CREATE
    TABLE RND_CONSUMER
    (
        ID BIGINT NOT NULL,
        USER_ID BIGINT NOT NULL,
        CODE VARCHAR(100) NOT NULL,
        IDENTITY_NO VARCHAR(100) NOT NULL,
        NAME VARCHAR(255) NOT NULL,
        DESCRIPTION VARCHAR(255),
        CONSUMER_TYPE INT NOT NULL,
        -- ADDRESS
        AI_ADDRESS1 VARCHAR(100),
        AI_ADDRESS2 VARCHAR(100),
        AI_ADDRESS3 VARCHAR(100),
        AI_ADDRESS4 VARCHAR(100),
        AI_POSTCODE VARCHAR(100),
        AI_CITY_ID BIGINT ,
        AI_DISTRICT_ID BIGINT ,
        AI_STATE_ID BIGINT,
        AI_COUNTRY_ID BIGINT ,
        -- CONTACT
        CI_NAME VARCHAR(60),
        CI_PHONE VARCHAR(60),
        CI_FAX VARCHAR(60),
        CI_EMAIL VARCHAR(200),
        -- CREDIT
        BANK_ID BIGINT,
        ACCOUNT_NO VARCHAR(200),
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
    );

ALTER TABLE RND_CONSUMER ADD CONSTRAINT PK_RND_CONSUMER PRIMARY KEY(ID);

ALTER TABLE RND_CONSUMER MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_CONSUMER ADD CONSTRAINT UNQ_RND_CONSUMER UNIQUE (CODE);

ALTER TABLE RND_CONSUMER ADD CONSTRAINT FK_RND_CONSUMER_1 FOREIGN KEY (USER_ID) REFERENCES CT01_USER (ID);


-- =============================================================================================
-- RND_PERSON
-- identity no = staff no
-- =============================================================================================
CREATE
    TABLE RND_PERSON
    (
        ID BIGINT NOT NULL
    );

ALTER TABLE RND_PERSON ADD CONSTRAINT PK_RND_PERSON PRIMARY KEY(ID);

ALTER TABLE RND_PERSON ADD CONSTRAINT FK_RND_PERSON_1 FOREIGN KEY (ID) REFERENCES RND_CONSUMER (ID);

-- =============================================================================================
-- RND_STAFF
-- identity no = staff no
-- =============================================================================================
CREATE
    TABLE RND_STAFF
    (
        ID BIGINT NOT NULL,
        POSITION_ID BIGINT,
        NRIC_NO VARCHAR(100),
        SUSPENDED BIGINT (1) DEFAULT 0, -- for emolument
        -- DATE
        START_DATE DATE,
        END_DATE DATE
    );

ALTER TABLE RND_STAFF ADD CONSTRAINT PK_RND_STAFF PRIMARY KEY(ID);

ALTER TABLE RND_STAFF ADD CONSTRAINT FK_RND_STAFF_1 FOREIGN KEY (ID) REFERENCES RND_CONSUMER (ID);

-- =============================================================================================
-- RND_VENDOR
-- identity no = roc no
-- =============================================================================================

CREATE
    TABLE RND_VENDOR
    (
        ID BIGINT NOT NULL,
        SSM_NO VARCHAR(100),  -- utm registration
        BUMIPUTERA BOOLEAN DEFAULT 0,
        START_DATE DATE,
        END_DATE DATE
    );

ALTER TABLE RND_VENDOR ADD CONSTRAINT PK_RND_VENDOR PRIMARY KEY(ID);


-- =============================================================================================
-- RND_LEDGER, RND_LEDGER_TRANSACTION
-- =============================================================================================

CREATE
    TABLE RND_LEDGER
    (
    	ID BIGINT NOT NULL,
        REQUESTER_ID BIGINT NOT NULL,
  	    REFERENCE_NO VARCHAR(100) NOT NULL,
  	    SOURCE_NO VARCHAR(100) NOT NULL,
        DESCRIPTION VARCHAR(255) NOT NULL,
        EXTERNAL INT DEFAULT 0,
        FACTORED INT DEFAULT 0,
        TRANSACTION_CODE INT NULL,

    	-- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
    );

ALTER TABLE RND_LEDGER ADD CONSTRAINT PK_RND_LEDGER PRIMARY KEY(ID);

ALTER TABLE RND_LEDGER MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_LEDGER ADD CONSTRAINT FK_RND_LEDGER_1 FOREIGN KEY (REQUESTER_ID) REFERENCES RND_COST_CENTER (ID);


CREATE
    TABLE RND_LEDGER_TRANSACTION
    (
    	ID BIGINT NOT NULL,
    	LEDGER_ID BIGINT NOT NULL,
    	PERIOD_ID BIGINT NOT NULL,
    	SODO_ID BIGINT NOT NULL,
        DESCRIPTION VARCHAR(500),
        AMOUNT DECIMAL(19,2),
        POSTED_DATE TIMESTAMP,
        -- STANDARD METADATA COLUMN
        M_ST INT DEFAULT 0,
        C_ID BIGINT DEFAULT 0,
        C_TS TIMESTAMP, -- http://lists.mysql.com/internals/34919
        M_ID BIGINT,
        M_TS TIMESTAMP,
        D_ID BIGINT,
        D_TS TIMESTAMP
    );

ALTER TABLE RND_LEDGER_TRANSACTION ADD CONSTRAINT PK_RND_LEDGER_TRANSACTION PRIMARY KEY(ID);

ALTER TABLE RND_LEDGER_TRANSACTION MODIFY COLUMN ID BIGINT NOT NULL AUTO_INCREMENT;

ALTER TABLE RND_LEDGER_TRANSACTION ADD CONSTRAINT FK_RND_LEDGER_TRANSACTION_1 FOREIGN KEY (LEDGER_ID) REFERENCES RND_LEDGER (ID);

ALTER TABLE RND_LEDGER_TRANSACTION ADD CONSTRAINT FK_RND_LEDGER_TRANSACTION_2 FOREIGN KEY (PERIOD_ID) REFERENCES RND_PERIOD (ID);

ALTER TABLE RND_LEDGER_TRANSACTION ADD CONSTRAINT FK_RND_LEDGER_TRANSACTION_3 FOREIGN KEY (SODO_ID) REFERENCES RND_SODO_CODE (ID);
